(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{6334:function(e,s,t){Promise.resolve().then(t.t.bind(t,413,23)),Promise.resolve().then(t.t.bind(t,8326,23)),Promise.resolve().then(t.bind(t,4484)),Promise.resolve().then(t.bind(t,2009)),Promise.resolve().then(t.bind(t,4196)),Promise.resolve().then(t.bind(t,5909)),Promise.resolve().then(t.bind(t,6643)),Promise.resolve().then(t.bind(t,8448)),Promise.resolve().then(t.bind(t,2577)),Promise.resolve().then(t.bind(t,5352)),Promise.resolve().then(t.bind(t,4692)),Promise.resolve().then(t.bind(t,1141)),Promise.resolve().then(t.bind(t,1894)),Promise.resolve().then(t.bind(t,7874)),Promise.resolve().then(t.bind(t,9666)),Promise.resolve().then(t.bind(t,6432)),Promise.resolve().then(t.bind(t,6147)),Promise.resolve().then(t.bind(t,5524))},9666:function(e,s,t){"use strict";t.r(s);var a=t(7437),n=t(2265),o=t(7042),i=t(6432);s.default=e=>{let[s,t]=(0,n.useState)(null),r=(0,i.useSdkMessaging)(),l=e.tpa.frontend_url+(e.pathname||""),d=e.tpa.fullscreen_supported;return(0,n.useEffect)(()=>{s&&r.initializeSdk(s,e.tpa)},[s]),(0,a.jsx)("div",{className:"flex w-full flex-1",children:(0,a.jsx)("div",{className:(0,o.Z)(["flex-1",!d&&"flex items-center justify-center"]),children:(0,a.jsx)("div",{className:(0,o.Z)(["h-full w-full",!d&&"sm:my-4 sm:max-w-[520px] sm:flex-none"]),children:(0,a.jsx)("iframe",{title:"PiNet",src:l,ref:e=>t(e),frameBorder:"0",className:"block h-full w-full",allow:"clipboard-read; clipboard-write; camera; geolocation"})})})})}},6432:function(e,s,t){"use strict";t.r(s),t.d(s,{SdkMessagingProvider:function(){return SdkMessagingProvider},useSdkMessaging:function(){return useSdkMessaging}});var a=t(7437),n=t(2265);let o={TRACK_LOCATION:"@pi:app:sdk:track_location",OPEN_CONSENT_MODAL:"@pi:app:sdk:open_consent_modal",SDK_NEED_UPDATE:"@pi:app:sdk:need_update",COMMUNICATION_INFORMATION_REQUEST:"@pi:app:sdk:communication_information_request",SHOW_DOWNLOAD_PI_BROWSER_MODAL:"@pi:app:sdk:show_download_pi_browser_modal",DECIDE_CALLBACK_RETRIAL:"@pi:app:sdk:decide_callback_retrial",PREPARE_PAYMENT_FLOW:"@pi:app:payments:prepare_payment_flow",SHOW_PRE_PAYMENT_ERROR:"@pi:app:payments:start_payment_flow",START_PAYMENT_FLOW:"@pi:app:payments:start_payment_flow",WAIT_FOR_TRANSACTION:"@pi:app:payments:wait_for_transaction",OPEN_APP_CONVERSATION:"@pi:app:conversation:open",OPEN_CONVERSATION:"@pi:app:conversation:open_with_id",COPY_TEXT_FROM_TPA:"@pi:app:sdk:copy_text_from_tpa",CHECK_NATIVE_FEATURES:"@pi:app:sdk:check_native_features",OPEN_URL_IN_SYSTEM_BROWSER:"@pi:app:sdk:open_url_in_system_browser",OPEN_SHARE_DIALOG:"@pi:app:share_dialog:open",REQUEST_NATIVE_PERMISSION:"@pi:app:sdk:request_native_permission",IS_AD_READY:"@pi:app:sdk:is_ad_ready",REQUEST_AD:"@pi:app:sdk:request_ad",SHOW_AD:"@pi:app:sdk:show_ad"},createPinetPathnameUrl=e=>{let s=window.location.protocol,t=window.location.hostname,a=window.location.port,n=new URL("".concat(s,"//").concat(t).concat(a?":".concat(a):"")),o="/"===e.pathname?"":e.pathname;return n.pathname=o,n.search=e.search,n.hash=e.hash,n.toString()},useShareMessageHandler=()=>{let[e,s]=(0,n.useState)(null);return{handleMessage:(e,t)=>{s(e),t(e,{success:!0})},closeShareMessageModal:()=>s(null),payload:null==e?void 0:e.payload}};var i=t(6108);let CopyButton=e=>{let{value:s}=e,[t,o]=(0,n.useState)(!1),r=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=r.current;return()=>{e&&clearTimeout(e)}},[]);let handleCopy=async()=>{try{let e=r.current;e&&clearTimeout(e),await navigator.clipboard.writeText(s),o(!0)}catch(e){}finally{r.current=setTimeout(()=>o(!1),2e3)}};return(0,a.jsxs)("div",{className:"inline-block relative",children:[(0,a.jsxs)("button",{onClick:handleCopy,className:"text-primary-300 font-bold flex gap-1 items-center",children:["Copy",(0,a.jsx)(i.Z,{className:"h-6 w-6"})]}),(0,a.jsx)("div",{className:"absolute top-[130%] left-[50%] bg-gray-300 rounded px-4 py-1 -translate-x-1/2 text-gray-900 cursor-pointer",style:{opacity:t?"100%":0},onClick:()=>o(!1),children:"Copied!"})]})};var r=t(3893),l=t(5775),d=t(6514),c=t(8870),p=t(6339);let SdkShareMessageModal=e=>{var s,t,n,o,i,h;let u=window.location.href,m=window.location.origin;return(0,a.jsxs)(r.s,{show:!!e.payload,onClose:e.closeShareMessageModal,title:"Share",image:{type:"component",component:(0,a.jsx)(l.x,{})},children:[(0,a.jsxs)("div",{className:"mb-12",children:[(null===(s=e.payload)||void 0===s?void 0:s.title)&&(0,a.jsx)("p",{className:"text-md mb-2 text-center font-bold",children:null===(t=e.payload)||void 0===t?void 0:t.title}),(null===(n=e.payload)||void 0===n?void 0:n.sharingMessage)&&(0,a.jsx)("p",{className:"mb-6 text-center text-sm",children:null===(o=e.payload)||void 0===o?void 0:o.sharingMessage}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(CopyButton,{value:(null===(i=e.payload)||void 0===i?void 0:i.sharingMessage)||""})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-10",children:[(0,a.jsx)("a",{href:"http://twitter.com/share?text=".concat(null===(h=e.payload)||void 0===h?void 0:h.sharingMessage,"&url=").concat(u),target:"_blank",children:(0,a.jsx)(d.u,{width:36,height:36})}),(0,a.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(u),target:"_blank",children:(0,a.jsx)(c.R,{width:36,height:36})}),(0,a.jsx)("a",{href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(m),target:"_blank",children:(0,a.jsx)(p.I,{width:36,height:36})})]})]})},useActionNotAvailableHandler=()=>{let[e,s]=(0,n.useState)(!1);return{handleMessage:(e,t)=>{console.warn(!1,e.type),s(!0),t(e,{success:!1,pinet_unsupported:!0})},showModal:e,closeModal:()=>s(!1)}};var h=t(1396),u=t.n(h),m=t(3971),g=t(8387),f={src:"/_next/static/media/pi-secondary-dark.a401517a.svg"};let getMobileOS=()=>{let e=window.navigator.userAgent;return/android/i.test(e)?"android":/iphone|ipad/i.test(e)?"ios":void 0};var _=t(2933),x=t(200),w=t(8493);let PiBrowserQrModal=e=>{let s=getMobileOS(),t=(0,_.yc)({pathname:"/api/redirect/pi-browser",searchParams:e.appSlug?new URLSearchParams({ref:e.appSlug}):void 0}),o=(0,n.useMemo)(()=>(0,a.jsx)(u(),{href:t.toString(),target:"_blank",className:"rounded-md focus:outline-none",children:(0,a.jsx)(w.y,{width:196,height:64})}),[t]),i=(0,n.useMemo)(()=>(0,a.jsx)(u(),{href:t.toString(),target:"_blank",className:"rounded-md focus:outline-none",children:(0,a.jsx)(x.I,{width:196,height:64})}),[t]);return s?(0,a.jsx)(r.s,{show:e.open,onClose:e.onClose,title:"You must have an account to access this content",description:"To access this section, you first need to create an account on Pi Network. Use below button to download our Pi Browser app.",image:{type:"component",component:(0,a.jsx)(l.x,{})},children:(0,a.jsxs)("div",{className:"flex justify-center items-center mx-auto",children:["android"===s&&(0,a.jsxs)("div",{children:[i,(0,a.jsx)("a",{href:"https://minepi.com/pi-browser-apk",className:"block mt-4 text-center text-primary-500 text-lg font-bold underline",children:"Download APK"})]}),"ios"===s&&o]})}):(0,a.jsx)(r.s,{show:e.open,onClose:e.onClose,children:(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center gap-8",children:[(0,a.jsx)(g.V.Title,{as:"h2",className:"text-3xl text-center font-bold leading-6",children:"Scan QR Code to Download Pi Browser"}),(0,a.jsx)(m.QRCode,{value:t.toString(),size:240,ecLevel:"M",logoImage:f.src,logoHeight:60,logoWidth:60,removeQrCodeBehindLogo:!0,bgColor:"#F3F4F6",fgColor:"#583073"}),(0,a.jsx)(g.V.Title,{as:"h3",className:"text-3xl text-center font-bold leading-6",children:"Log in to Pi Ecosystem!"}),(0,a.jsxs)(g.V.Description,{as:"p",className:"text-center",children:["Download the ",(0,a.jsx)("span",{className:"font-bold",children:"Pi Browser"}),". Sign in or create your"," ",(0,a.jsx)("span",{className:"font-bold",children:"Pi Network"})," account there to engage with this content."]}),(0,a.jsxs)(g.V.Description,{as:"div",children:[(0,a.jsxs)("div",{className:"hidden sm:flex sm:flex-col md:flex-row justify-center gap-4",children:[(0,a.jsx)(u(),{href:"https://play.google.com/store/apps/details?id=pi.browser",target:"_blank",className:"rounded-md focus:outline-none",children:(0,a.jsx)(x.I,{width:196,height:64})}),(0,a.jsx)(u(),{href:"https://apps.apple.com/us/app/pi-browser/id1560911608",target:"_blank",className:"rounded-md focus:outline-none",children:(0,a.jsx)(w.y,{width:196,height:64})})]}),(0,a.jsxs)("div",{className:"sm:hidden flex flex-col md:flex-row justify-center gap-4",children:[i,o]}),(0,a.jsx)("a",{href:"https://minepi.com/pi-browser-apk",className:"block mt-4 text-center text-primary-500 text-lg font-bold underline",children:"Download APK"})]})]})})},useShowDownloadPiBrowserModalMessageHandler=()=>{let[e,s]=(0,n.useState)(!1);return{handleMessage:(e,t)=>{s(!0),t(e,{success:!0})},showModal:e,closeModal:()=>s(!1)}},v=(0,n.createContext)(void 0),SdkMessagingProvider=e=>{var s,t;let i=(0,n.useRef)({iframe:null,tpa:null}),r=useActionNotAvailableHandler(),l=useShareMessageHandler(),d=useShowDownloadPiBrowserModalMessageHandler();function checkInitialized(e){if(!e.current.tpa||!e.current.iframe)throw Error("SdkMessaging uninitialized.")}let onSdkMessage=e=>{var s;if(e.origin!==(null===(s=i.current.tpa)||void 0===s?void 0:s.frontend_url)||"string"!=typeof e.data)return;checkInitialized(i);let t=JSON.parse(e.data);handleSdkMessage(t)},handleSdkMessage=async e=>{switch(checkInitialized(i),e.type){case o.TRACK_LOCATION:let s=createPinetPathnameUrl(e.payload.location);window.history.replaceState(null,i.current.tpa.name,s);break;case o.OPEN_SHARE_DIALOG:l.handleMessage(e,sendSdkResponse);break;case o.SHOW_DOWNLOAD_PI_BROWSER_MODAL:d.handleMessage(e,sendSdkResponse);break;default:if(!Object.values(o).includes(e.type))return;r.handleMessage(e,sendSdkResponse)}},sendSdkResponse=(e,s)=>{if(checkInitialized(i),void 0===e.id||!i.current.iframe.contentWindow)return console.warn(!1);let t={id:e.id,payload:s},a=JSON.stringify(t);i.current.iframe.contentWindow.postMessage(a,i.current.tpa.frontend_url)};return(0,a.jsxs)(v.Provider,{value:{initializeSdk:(e,s)=>(i.current.iframe=e,i.current.tpa=s,window.addEventListener("message",onSdkMessage),()=>window.removeEventListener("message",onSdkMessage)),onSdkMessage,sendSdkResponse,tpa:null===(s=i.current)||void 0===s?void 0:s.tpa},children:[e.children,(0,a.jsx)(PiBrowserQrModal,{open:r.showModal||d.showModal,onClose:()=>{r.closeModal(),d.closeModal()},appSlug:null===(t=i.current.tpa)||void 0===t?void 0:t.slug}),(0,a.jsx)(SdkShareMessageModal,{...l})]})},useSdkMessaging=()=>{let e=(0,n.useContext)(v);if(!e)throw Error("useSdkMessaging must be used within a SdkMessagingProvider");return e}},2577:function(e,s,t){"use strict";t.r(s),s.default={src:"/_next/static/media/map-of-pi.d869ee20.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA+0lEQVR42gVAzUoCQRz//ceR8TNSWjNdCEpB0MPSHhIygp6gS116oM5Bx96jF4joIGEXoaKkog9sWcnF2Nkd5x90Pjweiqz1cynpj6clWWa47QwnihQZGslyTvpxOsfjDZT6FcgLYDJNsTFg/EF6Yqfm6HjGuHogDBqA51icjQxatIbTbseI7dUVyuclBGKMA4v3OcOvZtCvOXAXgmTBlHDktdDLRti//ALI4vqwiMo0QhpbSPuyyfVuhLorcXswgaYy9jpbQBxAKMWSxk1l28+g7zfseieYlfoIIVD9uQCZpRT2tXDHQRO8nugFN5JPXUnCpKiN6rE14f0/951nEyfMLjIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[603,418,249,503,428,147,775,971,472,744],function(){return e(e.s=6334)}),_N_E=e.O()}]);